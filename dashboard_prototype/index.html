<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Índice de Seguridad Económica — Real Instituto Elcano</title>
    <meta name="description"
        content="Visualización interactiva de dependencias económicas en cadenas de suministro globales">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <style>
        :root {
            --elcano-red: #bb2521;
            --elcano-red-light: #d63834;
            --elcano-red-glow: rgba(187, 37, 33, 0.3);
            --elcano-blue: #003366;
            --elcano-blue-mid: #0066CC;
            --bg-dark: #0a0e17;
            --bg-card: #111827;
            --bg-card-hover: #1a2332;
            --text-primary: #f0f2f5;
            --text-secondary: #8892a4;
            --text-muted: #5a6478;
            --border-subtle: rgba(255, 255, 255, 0.06);
            --border-hover: rgba(187, 37, 33, 0.4);
            --gradient-red: linear-gradient(135deg, #bb2521, #d63834);
            --gradient-blue: linear-gradient(135deg, #003366, #0066CC);
            --shadow-glow: 0 0 30px rgba(187, 37, 33, 0.15);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }

        /* NAV */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            padding: 0 2rem;
            height: 64px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: rgba(10, 14, 23, 0.85);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border-subtle);
            transition: all 0.3s ease;
        }

        nav.scrolled {
            background: rgba(10, 14, 23, 0.95);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
        }

        .nav-logo {
            display: flex;
            align-items: center;
            gap: 14px;
        }

        .nav-logo img {
            height: 42px;
        }

        .nav-logo span {
            font-size: 0.85rem;
            font-weight: 600;
            letter-spacing: 0.5px;
            color: var(--text-secondary);
            text-transform: uppercase;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-links a {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.85rem;
            font-weight: 500;
            letter-spacing: 0.3px;
            transition: color 0.2s;
            position: relative;
        }

        .nav-links a:hover,
        .nav-links a.active {
            color: var(--text-primary);
        }

        .nav-links a.active::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            right: 0;
            height: 2px;
            background: var(--elcano-red);
            border-radius: 1px;
        }

        /* HERO */
        .hero {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 6rem 2rem 2rem;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(ellipse at 30% 50%, rgba(187, 37, 33, 0.08) 0%, transparent 50%),
                radial-gradient(ellipse at 70% 50%, rgba(0, 51, 102, 0.06) 0%, transparent 50%);
            animation: heroGlow 8s ease-in-out infinite alternate;
        }

        @keyframes heroGlow {
            0% {
                transform: translate(0, 0) scale(1);
            }

            100% {
                transform: translate(-5%, 5%) scale(1.1);
            }
        }

        .hero-content {
            position: relative;
            z-index: 1;
            max-width: 900px;
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 6px 16px;
            border-radius: 50px;
            border: 1px solid var(--border-subtle);
            background: rgba(255, 255, 255, 0.03);
            font-size: 0.75rem;
            font-weight: 500;
            color: var(--text-secondary);
            letter-spacing: 1px;
            text-transform: uppercase;
            margin-bottom: 2rem;
        }

        .hero-badge .dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--elcano-red);
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
                transform: scale(1);
            }

            50% {
                opacity: 0.5;
                transform: scale(1.5);
            }
        }

        .hero h1 {
            font-size: 4rem;
            font-weight: 800;
            line-height: 1.08;
            letter-spacing: -2px;
            margin-bottom: 1.2rem;
            background: linear-gradient(135deg, #ffffff 0%, #c0c8d4 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero h1 em {
            font-style: normal;
            background: var(--gradient-red);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero p {
            font-size: 1.15rem;
            color: var(--text-secondary);
            line-height: 1.7;
            max-width: 600px;
            margin: 0 auto 2rem;
            font-weight: 300;
        }

        /* GLOBE */
        .globe-wrapper {
            width: 500px;
            height: 500px;
            margin: -1rem auto 0;
            position: relative;
            z-index: 1;
        }

        /* SEARCH */
        .search-container {
            position: relative;
            max-width: 500px;
            margin: 0 auto 1rem;
        }

        .search-bar {
            width: 100%;
            padding: 16px 24px 16px 50px;
            border-radius: 16px;
            border: 1px solid var(--border-subtle);
            background: var(--bg-card);
            color: var(--text-primary);
            font-size: 1rem;
            font-family: 'Inter', sans-serif;
            outline: none;
            transition: all 0.3s ease;
        }

        .search-bar::placeholder {
            color: var(--text-muted);
        }

        .search-bar:focus {
            border-color: var(--elcano-red);
            box-shadow: var(--shadow-glow);
        }

        .search-icon {
            position: absolute;
            left: 18px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
            font-size: 1.1rem;
        }

        .search-results {
            position: absolute;
            top: calc(100% + 8px);
            left: 0;
            right: 0;
            background: var(--bg-card);
            border-radius: 12px;
            border: 1px solid var(--border-subtle);
            max-height: 300px;
            overflow-y: auto;
            display: none;
            z-index: 100;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .search-results.active {
            display: block;
        }

        .search-result-item {
            padding: 12px 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: background 0.15s;
            font-size: 0.9rem;
        }

        .search-result-item:hover {
            background: var(--bg-card-hover);
        }

        .search-result-item .flag {
            font-size: 1.3rem;
        }

        .search-result-item .rank {
            margin-left: auto;
            font-size: 0.75rem;
            color: var(--text-muted);
            font-weight: 500;
        }

        /* SCROLL INDICATOR */
        .scroll-indicator {
            position: absolute;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            color: var(--text-muted);
            font-size: 0.7rem;
            letter-spacing: 2px;
            text-transform: uppercase;
            animation: bounce 2s ease-in-out infinite;
        }

        @keyframes bounce {

            0%,
            100% {
                transform: translateX(-50%) translateY(0);
            }

            50% {
                transform: translateX(-50%) translateY(8px);
            }
        }

        .scroll-indicator .arrow {
            width: 20px;
            height: 20px;
            border-right: 2px solid var(--text-muted);
            border-bottom: 2px solid var(--text-muted);
            transform: rotate(45deg);
        }

        /* SECTIONS */
        section {
            padding: 6rem 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .section-header {
            margin-bottom: 3rem;
        }

        .section-label {
            font-size: 0.7rem;
            font-weight: 600;
            letter-spacing: 3px;
            text-transform: uppercase;
            color: var(--elcano-red);
            margin-bottom: 1rem;
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: 700;
            letter-spacing: -1px;
            line-height: 1.2;
            margin-bottom: 0.75rem;
        }

        .section-subtitle {
            font-size: 1.05rem;
            color: var(--text-secondary);
            line-height: 1.6;
            max-width: 600px;
            font-weight: 300;
        }

        /* KPI CARDS */
        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1.5rem;
            margin-bottom: 4rem;
        }

        .kpi-card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 2rem;
            border: 1px solid var(--border-subtle);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .kpi-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gradient-red);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .kpi-card:hover {
            border-color: var(--border-hover);
            transform: translateY(-2px);
        }

        .kpi-card:hover::before {
            opacity: 1;
        }

        .kpi-value {
            font-size: 2.8rem;
            font-weight: 800;
            letter-spacing: -1px;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, var(--text-primary), var(--text-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .kpi-label {
            font-size: 0.8rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 500;
        }

        .kpi-desc {
            font-size: 0.75rem;
            color: var(--text-muted);
            line-height: 1.4;
            margin-top: 0.5rem;
            font-weight: 300;
            opacity: 0.8;
        }

        /* TOOLTIPS */
        .info-tip {
            position: relative;
            display: inline-flex;
            align-items: center;
            gap: 4px;
            cursor: help;
        }

        .info-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.08);
            font-size: 0.6rem;
            color: var(--text-muted);
            font-weight: 700;
            flex-shrink: 0;
            transition: all 0.2s;
        }

        .info-tip:hover .info-icon {
            background: var(--elcano-red);
            color: white;
        }

        .info-tip .tooltip {
            position: absolute;
            bottom: calc(100% + 8px);
            left: 50%;
            transform: translateX(-50%);
            padding: 10px 14px;
            background: #1e2838;
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            font-size: 0.75rem;
            color: var(--text-secondary);
            white-space: normal;
            width: 240px;
            text-align: left;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s;
            z-index: 10;
            line-height: 1.4;
            font-weight: 400;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
            text-transform: none;
            letter-spacing: normal;
        }

        .info-tip:hover .tooltip {
            opacity: 1;
            pointer-events: auto;
        }

        /* MAP */
        .map-container {
            background: var(--bg-card);
            border-radius: 20px;
            border: 1px solid var(--border-subtle);
            padding: 1.5rem;
            margin-bottom: 4rem;
            overflow: hidden;
        }

        /* HUBS */
        .hubs-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
        }

        .hub-list {
            list-style: none;
        }

        .hub-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 0;
            border-bottom: 1px solid var(--border-subtle);
            transition: all 0.2s;
            cursor: pointer;
        }

        .hub-item:hover {
            padding-left: 0.5rem;
            background: linear-gradient(90deg, rgba(187, 37, 33, 0.05), transparent);
        }

        .hub-rank {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 700;
            flex-shrink: 0;
        }

        .hub-rank.top3 {
            background: var(--gradient-red);
            color: white;
        }

        .hub-rank.rest {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-secondary);
        }

        .hub-country {
            font-weight: 600;
            font-size: 0.95rem;
        }

        .hub-flag {
            font-size: 1.3rem;
        }

        .hub-bar-container {
            flex: 1;
            height: 6px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 3px;
            overflow: hidden;
        }

        .hub-bar {
            height: 100%;
            border-radius: 3px;
            background: var(--gradient-red);
            transition: width 1s ease;
        }

        .hub-score {
            font-size: 0.8rem;
            color: var(--text-muted);
            font-weight: 600;
            min-width: 45px;
            text-align: right;
        }

        /* PROFILE */
        .profile-section {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .profile-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .profile-header {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            margin-bottom: 3rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid var(--border-subtle);
        }

        .profile-flag {
            font-size: 4rem;
        }

        .profile-name {
            font-size: 2.5rem;
            font-weight: 800;
            letter-spacing: -1px;
        }

        .profile-rank-badge {
            margin-left: auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
        }

        .profile-rank-badge .rank-number {
            font-size: 2rem;
            font-weight: 800;
            color: var(--elcano-red-light);
        }

        .profile-rank-badge .rank-label {
            font-size: 0.65rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .profile-kpis {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .profile-kpi {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 1.5rem;
            border: 1px solid var(--border-subtle);
            text-align: center;
        }

        .profile-kpi .value {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.3rem;
        }

        .profile-kpi .label {
            font-size: 0.75rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            border-radius: 8px;
            border: 1px solid var(--border-subtle);
            background: transparent;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 0.85rem;
            font-family: 'Inter', sans-serif;
            transition: all 0.2s;
            margin-bottom: 2rem;
        }

        .back-btn:hover {
            border-color: var(--elcano-red);
            color: var(--text-primary);
        }

        /* CRITICAL TABLE */
        .critical-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0 4px;
        }

        .critical-table th {
            text-align: left;
            padding: 12px 16px;
            font-size: 0.7rem;
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
            border-bottom: 1px solid var(--border-subtle);
        }

        .critical-table td {
            padding: 14px 16px;
            font-size: 0.9rem;
            background: var(--bg-card);
            transition: background 0.2s;
        }

        .critical-table tr:hover td {
            background: var(--bg-card-hover);
        }

        .critical-table tr td:first-child {
            border-radius: 10px 0 0 10px;
        }

        .critical-table tr td:last-child {
            border-radius: 0 10px 10px 0;
        }

        .dep-bar {
            display: inline-block;
            height: 4px;
            border-radius: 2px;
            background: var(--elcano-red);
            vertical-align: middle;
            margin-right: 8px;
        }

        .criticidad-badge {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .criticidad-alta {
            background: rgba(187, 37, 33, 0.15);
            color: var(--elcano-red-light);
        }

        .criticidad-media {
            background: rgba(255, 193, 7, 0.15);
            color: #FFC107;
        }

        /* FOOTER */
        footer {
            text-align: center;
            padding: 3rem 2rem;
            border-top: 1px solid var(--border-subtle);
            color: var(--text-muted);
            font-size: 0.8rem;
        }

        footer img {
            height: 40px;
            margin-bottom: 1rem;
        }

        /* INDUSTRY EXPLORER */
        .explorer-container {
            background: var(--bg-card);
            border-radius: 1.5rem;
            padding: 2.5rem;
            margin-bottom: 3rem;
            border: 1px solid var(--border-subtle);
            box-shadow: var(--shadow-glow);
        }

        .explorer-inputs {
            display: grid;
            grid-template-columns: 2fr 1fr auto;
            gap: 1.5rem;
            align-items: flex-end;
            margin-bottom: 2.5rem;
            padding-bottom: 2.5rem;
            border-bottom: 1px solid var(--border-subtle);
        }

        .explorer-input-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .explorer-input-group label {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-secondary);
        }

        .explorer-input-group input,
        .explorer-input-group select {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-subtle);
            border-radius: 10px;
            padding: 12px 15px;
            color: var(--text-primary);
            font-family: 'Inter', sans-serif;
            font-size: 0.95rem;
            transition: all 0.2s ease;
        }

        .explorer-input-group input:focus,
        .explorer-input-group select:focus {
            outline: none;
            border-color: var(--elcano-red-light);
            background: rgba(255, 255, 255, 0.08);
            box-shadow: 0 0 0 3px rgba(187, 37, 33, 0.2);
        }

        .explorer-btn {
            background: var(--elcano-red);
            color: white;
            border: none;
            border-radius: 10px;
            padding: 12px 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            height: 48px;
        }

        .explorer-btn:hover {
            background: var(--elcano-red-light);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(187, 37, 33, 0.3);
        }

        .placeholder-msg {
            color: var(--text-muted);
            text-align: center;
            padding: 50px 0;
            font-style: italic;
        }

        .explorer-results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .explorer-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--border-subtle);
            border-radius: 16px;
            padding: 1.5rem;
            transition: transform 0.2s ease;
        }

        .explorer-card:hover {
            border-color: var(--elcano-red-light);
            background: rgba(255, 255, 255, 0.05);
        }

        .explorer-card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 1rem;
        }

        .explorer-card-flag {
            font-size: 1.8rem;
        }

        .explorer-card-name {
            font-weight: 700;
            font-size: 1.1rem;
        }

        .explorer-card-dep {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .explorer-path {
            margin-top: 1.2rem;
            padding-top: 1rem;
            border-top: 1px dashed var(--border-subtle);
            font-size: 0.8rem;
        }

        .explorer-path-title {
            color: var(--text-muted);
            text-transform: uppercase;
            font-size: 0.7rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            display: block;
        }

        .path-route {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--text-primary);
            font-weight: 600;
            background: rgba(187, 37, 33, 0.05);
            padding: 6px 10px;
            border-radius: 6px;
        }

        /* RESPONSIVE */
        .hubs-chart-container {
            background: var(--bg-card);
            border-radius: 1.5rem;
            padding: 2rem;
            margin-bottom: 3rem;
            border: 1px solid var(--border-subtle);
            box-shadow: var(--shadow-glow);
        }

        .hubs-chart {
            height: 500px;
            width: 100%;
        }

        .critical-chart-container {
            background: var(--bg-card);
            border-radius: 1.5rem;
            padding: 2rem;
            margin-bottom: 3rem;
            border: 1px solid var(--border-subtle);
            box-shadow: var(--shadow-glow);
        }

        .evolution-chart-container {
            background: var(--bg-card);
            border-radius: 1.5rem;
            padding: 1.5rem;
            margin-top: 1.5rem;
            border: 1px solid var(--border-subtle);
            height: 300px;
        }

        .global-evolution-container {
            grid-column: span 3;
            background: var(--bg-card);
            border-radius: 1.5rem;
            padding: 2rem;
            margin-top: 2rem;
            border: 1px solid var(--border-subtle);
            box-shadow: var(--shadow-glow);
        }

        @media (max-width: 1024px) {
            .global-evolution-container {
                grid-column: span 1;
            }
        }

        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }

            .kpi-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .hubs-grid {
                grid-template-columns: 1fr;
            }

            .profile-kpis {
                grid-template-columns: 1fr;
            }

            .nav-links {
                display: none;
            }

            .globe-wrapper {
                width: 320px;
                height: 320px;
            }
        }

        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-dark);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--text-muted);
            border-radius: 3px;
        }

        .year-selector-container {
            display: flex;
            align-items: center;
            gap: 12px;
            background: rgba(255, 255, 255, 0.05);
            padding: 5px 15px;
            border-radius: 100px;
            border: 1px solid var(--border-subtle);
        }

        #yearSelectNav {
            background: none;
            border: none;
            color: var(--elcano-red-light);
            font-weight: 800;
            font-size: 1rem;
            cursor: pointer;
            outline: none;
            font-family: 'Outfit', sans-serif;
        }

        #yearSelectNav option {
            background: var(--bg-dark);
            color: var(--text-primary);
        }

        /* DATA LOADER OVERLAY */
        #dataLoader {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: var(--bg-card);
            border: 1px solid var(--elcano-red);
            padding: 12px 20px;
            border-radius: 12px;
            display: none;
            align-items: center;
            gap: 12px;
            z-index: 9999;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .spinner {
            width: 18px;
            height: 18px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-top-color: var(--elcano-red);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
</head>

<body>
    <div id="dataLoader">
        <div class="spinner"></div>
        <span style="font-size: 0.8rem; font-weight: 500;">Cargando datos detallados...</span>
    </div>


    <nav id="navbar">
        <div class="nav-logo">
            <img src="data:image/png;base64,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" alt="Real Instituto Elcano">
            <span>Seguridad Económica</span>
        </div>
        <ul class="nav-links">
            <li><a href="#hero" class="active">Inicio</a></li>
            <li><a href="#overview">Panorama</a></li>
            <li><a href="#map-section">Mapa</a></li>
            <li><a href="#hubs-section">Hubs</a></li>
            <li><a href="#industry-section">Explorador</a></li>
        </ul>
        <div class="year-selector-container">
            <span style="font-size:0.7rem; color:var(--text-muted); text-transform:uppercase; font-weight:700">Explorar
                por año:</span>
            <select id="yearSelectNav" onchange="changeGlobalYear(this.value)">
                <!-- Dinámico -->
            </select>
        </div>
    </nav>

    <section class="hero" id="hero">
        <div class="hero-content">
            <div class="hero-badge">
                <span class="dot"></span>
                <span id="heroBadgeYear">Cargando datos...</span>
            </div>
            <h1>¿De quién depende<br><em>tu economía</em>?</h1>
            <p>Explora las dependencias comerciales en cadenas de suministro globales.
                236 economías, 170 industrias, miles de relaciones analizadas.</p>
            <div class="search-container">
                <span class="search-icon">🔍</span>
                <input type="text" class="search-bar" id="countrySearch"
                    placeholder="Busca un país... España, China, USA..." autocomplete="off">
                <div class="search-results" id="searchResults"></div>
            </div>
        </div>
        <div class="globe-wrapper">
            <div id="heroGlobe" style="width:100%;height:100%;"></div>
        </div>
        <div class="scroll-indicator">
            <span>Explorar</span>
            <div class="arrow"></div>
        </div>
    </section>

    <section id="overview">
        <div class="section-header">
            <div class="section-label">Panorama Global</div>
            <h2 class="section-title">Índice de Seguridad Económica</h2>
            <p class="section-subtitle">Una radiografía de las dependencias comerciales que definen la estabilidad
                económica mundial.</p>
        </div>
        <div class="kpi-grid" id="kpiGrid"></div>
        <div class="global-evolution-container">
            <h3 style="margin-bottom:0.5rem;font-size:1.1rem">Evolución del Riesgo Global</h3>
            <p style="font-size:0.85rem;color:var(--text-secondary);margin-bottom:1.5rem">Número de dependencias
                críticas (≥70%) identificadas en el sistema por año.</p>
            <div id="globalTrendChart" style="height:350px"></div>
        </div>
    </section>

    <section id="map-section">
        <div class="section-header">
            <div class="section-label">Mapa de Vulnerabilidad</div>
            <h2 class="section-title">¿Quién es más vulnerable?</h2>
            <p class="section-subtitle">Nivel de vulnerabilidad comercial de cada economía. Mayor intensidad de rojo
                indica mayor concentración de dependencias críticas.</p>
        </div>
        <div class="map-container">
            <div id="worldMap" style="height: 520px;"></div>
        </div>
    </section>

    <section id="hubs-section">
        <div class="section-header">
            <div class="section-label">Intermediación Global</div>
            <h2 class="section-title">Los nodos del comercio mundial</h2>
            <p class="section-subtitle">Los 30 países que más intermedian en las cadenas de suministro globales. El
                <strong>score</strong> (0-100) combina cuántas rutas pasan por cada país y cuán insustituible es como
                intermediario. Haz clic en un país para ver su perfil detallado.
            </p>
        </div>
        <div class="hubs-chart-container">
            <div id="hubsChart" class="hubs-chart"></div>
        </div>
        <div class="hubs-grid">
            <ul class="hub-list" id="hubsLeft"></ul>
            <ul class="hub-list" id="hubsRight"></ul>
        </div>
    </section>


    <section id="industry-section">
        <div class="section-header">
            <div class="section-label">Análisis Sectorial</div>
            <h2 class="section-title">¿De quién dependemos en...?</h2>
            <p class="section-subtitle">Explora los proveedores críticos y las rutas de suministro de cualquier
                industria.</p>
        </div>

        <div class="explorer-container">
            <div class="explorer-inputs">
                <div class="explorer-input-group">
                    <label>Industria</label>
                    <input type="text" id="industrySearch" placeholder="Busca industria... (ej. batteries, cereals)"
                        list="industryList" autocomplete="off" onfocus="this.value='';" onclick="this.value='';">
                    <datalist id="industryList"></datalist>
                </div>
                <div class="explorer-input-group">
                    <label>País que importa</label>
                    <select id="importerSelect"></select>
                </div>
                <button class="explorer-btn" onclick="runIndustryQuery()">Consultar dependencias</button>
            </div>

            <div id="industryChartContainer" style="display:none; margin-bottom: 2rem;">
                <div
                    style="font-size: 0.8rem; color: var(--text-secondary); margin-bottom: 0.5rem; text-transform: uppercase; letter-spacing: 0.05em; font-weight: 600;">
                    🔍 Radar de Riesgo Oculto (Indirecto vs Directo)
                </div>
                <div id="industryRadarPlot"
                    style="height: 350px; background: rgba(0,0,0,0.2); border-radius: 12px; border: 1px solid rgba(255,255,255,0.05);">
                </div>
            </div>

            <div id="industryResults" class="industry-results-area">
                <div class="placeholder-msg">Selecciona una industria y un país para ver los resultados.</div>
            </div>
        </div>
    </section>

    <section id="profile-section" class="profile-section">
        <button class="back-btn" onclick="closeProfile()">← Volver al panorama</button>
        <div id="profileContent"></div>
    </section>

    <footer>
        <img src="data:image/png;base64,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" alt="Real Instituto Elcano"><br>
        <p>Índice de Seguridad Económica · Real Instituto Elcano · 2026</p>
        <p style="margin-top: 0.5rem;" id="footerDataYear">Datos: International Trade and Production Database (ITP) ·
            Año ...</p>
    </footer>

    <script>
        // === EMBEDDED DATA (no fetch needed) ===
        // === COUNTRY NAMES ===
        const COUNTRY_NAMES = { "ABW": "Aruba", "AFG": "Afganistán", "AGO": "Angola", "AIA": "Anguila", "ALB": "Albania", "AND": "Andorra", "ARE": "Emiratos Árabes Unidos", "ARG": "Argentina", "ARM": "Armenia", "ASM": "Samoa Americana", "ATG": "Antigua y Barbuda", "AUS": "Australia", "AUT": "Austria", "AZE": "Azerbaiyán", "BDI": "Burundi", "BEL": "Bélgica", "BEN": "Benín", "BFA": "Burkina Faso", "BGD": "Bangladés", "BGR": "Bulgaria", "BHR": "Baréin", "BHS": "Bahamas", "BIH": "Bosnia y Herzegovina", "BLR": "Bielorrusia", "BLZ": "Belice", "BMU": "Bermudas", "BOL": "Bolivia", "BRA": "Brasil", "BRB": "Barbados", "BRN": "Brunéi", "BTN": "Bután", "BWA": "Botsuana", "CAF": "Rep. Centroafricana", "CAN": "Canadá", "CHE": "Suiza", "CHL": "Chile", "CHN": "China", "CIV": "Costa de Marfil", "CMR": "Camerún", "COD": "RD del Congo", "COG": "Congo", "COL": "Colombia", "COM": "Comoras", "CPV": "Cabo Verde", "CRI": "Costa Rica", "CUB": "Cuba", "CYM": "Islas Caimán", "CYP": "Chipre", "CZE": "Chequia", "DEU": "Alemania", "DJI": "Yibuti", "DMA": "Dominica", "DNK": "Dinamarca", "DOM": "Rep. Dominicana", "DZA": "Argelia", "ECU": "Ecuador", "EGY": "Egipto", "ERI": "Eritrea", "ESP": "España", "EST": "Estonia", "ETH": "Etiopía", "FIN": "Finlandia", "FJI": "Fiyi", "FRA": "Francia", "FSM": "Micronesia", "GAB": "Gabón", "GBR": "Reino Unido", "GEO": "Georgia", "GHA": "Ghana", "GIN": "Guinea", "GMB": "Gambia", "GNB": "Guinea-Bisáu", "GNQ": "Guinea Ecuatorial", "GRC": "Grecia", "GRD": "Granada", "GRL": "Groenlandia", "GTM": "Guatemala", "GUM": "Guam", "GUY": "Guyana", "HKG": "Hong Kong", "HND": "Honduras", "HRV": "Croacia", "HTI": "Haití", "HUN": "Hungría", "IDN": "Indonesia", "IND": "India", "IRL": "Irlanda", "IRN": "Irán", "IRQ": "Irak", "ISL": "Islandia", "ISR": "Israel", "ITA": "Italia", "JAM": "Jamaica", "JOR": "Jordania", "JPN": "Japón", "KAZ": "Kazajistán", "KEN": "Kenia", "KGZ": "Kirguistán", "KHM": "Camboya", "KIR": "Kiribati", "KNA": "San Cristóbal y Nieves", "KOR": "Corea del Sur", "KWT": "Kuwait", "LAO": "Laos", "LBN": "Líbano", "LBR": "Liberia", "LBY": "Libia", "LCA": "Santa Lucía", "LKA": "Sri Lanka", "LSO": "Lesoto", "LTU": "Lituania", "LUX": "Luxemburgo", "LVA": "Letonia", "MAC": "Macao", "MAR": "Marruecos", "MDA": "Moldavia", "MDG": "Madagascar", "MDV": "Maldivas", "MEX": "México", "MHL": "Islas Marshall", "MKD": "Macedonia del Norte", "MLI": "Malí", "MLT": "Malta", "MMR": "Myanmar", "MNE": "Montenegro", "MNG": "Mongolia", "MOZ": "Mozambique", "MRT": "Mauritania", "MUS": "Mauricio", "MWI": "Malaui", "MYS": "Malasia", "NAM": "Namibia", "NER": "Níger", "NGA": "Nigeria", "NIC": "Nicaragua", "NLD": "Países Bajos", "NOR": "Noruega", "NPL": "Nepal", "NRU": "Nauru", "NZL": "Nueva Zelanda", "OMN": "Omán", "PAK": "Pakistán", "PAN": "Panamá", "PER": "Perú", "PHL": "Filipinas", "PLW": "Palaos", "PNG": "Papúa Nueva Guinea", "POL": "Polonia", "PRI": "Puerto Rico", "PRK": "Corea del Norte", "PRT": "Portugal", "PRY": "Paraguay", "QAT": "Catar", "ROU": "Rumanía", "RUS": "Rusia", "RWA": "Ruanda", "SAU": "Arabia Saudí", "SDN": "Sudán", "SEN": "Senegal", "SGP": "Singapur", "SLB": "Islas Salomón", "SLE": "Sierra Leona", "SLV": "El Salvador", "SMR": "San Marino", "SOM": "Somalia", "SRB": "Serbia", "SSD": "Sudán del Sur", "STP": "Santo Tomé y Príncipe", "SUR": "Surinam", "SVK": "Eslovaquia", "SVN": "Eslovenia", "SWE": "Suecia", "SWZ": "Esuatini", "SYC": "Seychelles", "SYR": "Siria", "TCA": "Islas Turcas y Caicos", "TCD": "Chad", "TGO": "Togo", "THA": "Tailandia", "TJK": "Tayikistán", "TKM": "Turkmenistán", "TLS": "Timor Oriental", "TON": "Tonga", "TTO": "Trinidad y Tobago", "TUN": "Túnez", "TUR": "Turquía", "TUV": "Tuvalu", "TWN": "Taiwán", "TZA": "Tanzania", "UGA": "Uganda", "UKR": "Ucrania", "URY": "Uruguay", "USA": "Estados Unidos", "UZB": "Uzbekistán", "VCT": "San Vicente y Granadinas", "VEN": "Venezuela", "VGB": "Islas Vírgenes Británicas", "VIR": "Islas Vírgenes de EE.UU.", "VNM": "Vietnam", "VUT": "Vanuatu", "WSM": "Samoa", "YEM": "Yemen", "ZAF": "Sudáfrica", "ZMB": "Zambia", "ZWE": "Zimbabue" };

        const ISO3_TO_ISO2 = { "ABW": "AW", "AFG": "AF", "AGO": "AO", "ALB": "AL", "AND": "AD", "ARE": "AE", "ARG": "AR", "ARM": "AM", "AUS": "AU", "AUT": "AT", "AZE": "AZ", "BDI": "BI", "BEL": "BE", "BEN": "BJ", "BFA": "BF", "BGD": "BD", "BGR": "BG", "BHR": "BH", "BHS": "BS", "BIH": "BA", "BLR": "BY", "BLZ": "BZ", "BOL": "BO", "BRA": "BR", "BRB": "BB", "BRN": "BN", "BTN": "BT", "BWA": "BW", "CAF": "CF", "CAN": "CA", "CHE": "CH", "CHL": "CL", "CHN": "CN", "CIV": "CI", "CMR": "CM", "COD": "CD", "COG": "CG", "COL": "CO", "CRI": "CR", "CUB": "CU", "CYP": "CY", "CZE": "CZ", "DEU": "DE", "DJI": "DJ", "DNK": "DK", "DOM": "DO", "DZA": "DZ", "ECU": "EC", "EGY": "EG", "ERI": "ER", "ESP": "ES", "EST": "EE", "ETH": "ET", "FIN": "FI", "FJI": "FJ", "FRA": "FR", "GAB": "GA", "GBR": "GB", "GEO": "GE", "GHA": "GH", "GIN": "GN", "GMB": "GM", "GNB": "GW", "GNQ": "GQ", "GRC": "GR", "GRL": "GL", "GTM": "GT", "GUY": "GY", "HKG": "HK", "HND": "HN", "HRV": "HR", "HTI": "HT", "HUN": "HU", "IDN": "ID", "IND": "IN", "IRL": "IE", "IRN": "IR", "IRQ": "IQ", "ISL": "IS", "ISR": "IL", "ITA": "IT", "JAM": "JM", "JOR": "JO", "JPN": "JP", "KAZ": "KZ", "KEN": "KE", "KGZ": "KG", "KHM": "KH", "KOR": "KR", "KWT": "KW", "LAO": "LA", "LBN": "LB", "LBR": "LR", "LBY": "LY", "LKA": "LK", "LSO": "LS", "LTU": "LT", "LUX": "LU", "LVA": "LV", "MAC": "MO", "MAR": "MA", "MDA": "MD", "MDG": "MG", "MDV": "MV", "MEX": "MX", "MKD": "MK", "MLI": "ML", "MLT": "MT", "MMR": "MM", "MNE": "ME", "MNG": "MN", "MOZ": "MZ", "MRT": "MR", "MUS": "MU", "MWI": "MW", "MYS": "MY", "NAM": "NA", "NER": "NE", "NGA": "NG", "NIC": "NI", "NLD": "NL", "NOR": "NO", "NPL": "NP", "NZL": "NZ", "OMN": "OM", "PAK": "PK", "PAN": "PA", "PER": "PE", "PHL": "PH", "PNG": "PG", "POL": "PL", "PRT": "PT", "PRY": "PY", "QAT": "QA", "ROU": "RO", "RUS": "RU", "RWA": "RW", "SAU": "SA", "SDN": "SD", "SEN": "SN", "SGP": "SG", "SLE": "SL", "SLV": "SV", "SMR": "SM", "SOM": "SO", "SRB": "RS", "SSD": "SS", "SUR": "SR", "SVK": "SK", "SVN": "SI", "SWE": "SE", "SWZ": "SZ", "SYR": "SY", "TCD": "TD", "TGO": "TG", "THA": "TH", "TJK": "TJ", "TKM": "TM", "TLS": "TL", "TON": "TO", "TTO": "TT", "TUN": "TN", "TUR": "TR", "TWN": "TW", "TZA": "TZ", "UGA": "UG", "UKR": "UA", "URY": "UY", "USA": "US", "UZB": "UZ", "VEN": "VE", "VNM": "VN", "YEM": "YE", "ZAF": "ZA", "ZMB": "ZM", "ZWE": "ZW" };

        function getFlag(iso3) {
            const iso2 = ISO3_TO_ISO2[iso3];
            if (!iso2) return '🏳️';
            return String.fromCodePoint(...[...iso2].map(c => 0x1F1E6 + c.charCodeAt(0) - 65));
        }
        function getName(iso3) { return COUNTRY_NAMES[iso3] || iso3; }

        // === CORE DATA HANDLING ===
        let CURRENT_YEAR = null;
        let CURRENT_DATA = null;
        let META_DATA = null; // Histórico, catálogo de industrias, etc.
        const CACHE_YEARS = {}; // Para no re-descargar años ya visitados

        async function initGlobal() {
            try {
                const response = await fetch('data_dist/meta.json');
                META_DATA = await response.json();

                const years = META_DATA.available_years;
                const navSelect = document.getElementById('yearSelectNav');
                if (navSelect) {
                    navSelect.innerHTML = years.map(y => `<option value="${y}" ${y === META_DATA.latest_year ? 'selected' : ''}>${y}</option>`).join('');
                }

                // Cargar año inicial
                await setGlobalYear(META_DATA.latest_year);

                // Componentes estáticos
                initGlobalTrend();
                initSearch();
                initIndustryExplorer();
            } catch (e) {
                console.error("Error inicializando el dashboard:", e);
            }
        }

        async function setGlobalYear(year) {
            const y = parseInt(year);
            CURRENT_YEAR = y;

            // Mostrar indicador
            const loader = document.getElementById('dataLoader');
            if (loader) loader.style.display = 'flex';

            try {
                if (!CACHE_YEARS[y]) {
                    const response = await fetch(`data_dist/year_${y}.json`);
                    CACHE_YEARS[y] = await response.json();
                }
                CURRENT_DATA = CACHE_YEARS[y];

                // Actualizar UI
                document.getElementById('heroBadgeYear').innerText = `Real Instituto Elcano · Datos ${CURRENT_YEAR}`;
                document.getElementById('footerDataYear').innerText = `Datos: International Trade and Production Database (ITP) · Año ${CURRENT_YEAR}`;

                // Re-inicializar componentes anuales
                initKPIs();
                initGlobe();
                initMap();
                initHubsChart();
                initHubs();

                // Actualizar perfil si está abierto
                const profileSection = document.getElementById('profile-section');
                if (profileSection && profileSection.classList.contains('active')) {
                    const header = document.querySelector('.profile-header');
                    if (header) {
                        const iso3 = header.querySelector('div div:last-child').innerText.split(' · ')[0];
                        showProfile(iso3);
                    }
                }
            } catch (e) {
                console.error(`Error cargando el año ${y}:`, e);
            } finally {
                if (loader) loader.style.display = 'none';
            }
        }

        function changeGlobalYear(year) {
            setGlobalYear(year);
        }

        // === KPIs ===
        function initKPIs() {
            const p = CURRENT_DATA.profiles;
            const avgV = (p.reduce((s, x) => s + x.vulnerability, 0) / p.length).toFixed(3);
            const kpis = [
                { value: '236', label: 'Economías analizadas', desc: 'Cada país evaluado según su exposición a disrupciones en cadenas de suministro.' },
                { value: '170', label: 'Industrias cubiertas', desc: 'Sectores productivos analizados, desde materias primas hasta manufactura avanzada.' },
                { value: avgV, label: 'Vulnerabilidad media', desc: `Promedio global en ${CURRENT_YEAR}. Cuanto más alto, mayor riesgo de disrupción.` },
                { value: getFlag(CURRENT_DATA.hubs[0].country), label: 'Mayor intermediario', isFlag: true, sub: getName(CURRENT_DATA.hubs[0].country), desc: 'El país que más rutas comerciales intermedia a nivel global.' }
            ];
            document.getElementById('kpiGrid').innerHTML = kpis.map(k => `
                <div class="kpi-card">
                    <div class="kpi-value" ${k.isFlag ? 'style="font-size:3.5rem;-webkit-text-fill-color:unset"' : ''}>${k.value}</div>
                    <div class="kpi-label">${k.label}</div>
                    ${k.sub ? '<div style="color:var(--text-secondary);font-size:0.9rem;margin-top:0.3rem">' + k.sub + '</div>' : ''}
                    <div class="kpi-desc">${k.desc}</div>
                </div>`).join('');
        }

        // === TRENDS ===
        function initGlobalTrend() {
            const d = META_DATA.critical_evolution;
            if (!d) return;
            const trace = {
                x: d.map(x => x.year),
                y: d.map(x => x.count),
                type: 'scatter',
                mode: 'lines+markers',
                line: { color: '#bb2521', width: 3, shape: 'spline' },
                marker: { size: 8, color: '#bb2521' },
                fill: 'tozeroy',
                fillcolor: 'rgba(187, 37, 33, 0.05)',
                name: 'Relaciones Críticas'
            };

            const layout = {
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                margin: { t: 10, b: 40, l: 50, r: 10 },
                xaxis: { gridcolor: 'rgba(255,255,255,0.05)', tickfont: { color: '#8892a4' }, zeroline: false },
                yaxis: { gridcolor: 'rgba(255,255,255,0.05)', tickfont: { color: '#8892a4' }, zeroline: false },
                hovermode: 'x unified',
                font: { family: 'Inter' }
            };

            Plotly.newPlot('globalTrendChart', [trace], layout, { responsive: true, displayModeBar: false });
        }

        function initProfileTrend(iso3) {
            const history = (META_DATA.evolution || []).filter(x => x.country === iso3).sort((a, b) => a.year - b.year);
            if (!history.length) return;

            const traceVul = {
                x: history.map(x => x.year),
                y: history.map(x => x.vulnerability),
                name: 'Vulnerabilidad (ISE)',
                type: 'scatter',
                mode: 'lines',
                line: { color: '#bb2521', width: 3 }
            };

            const traceImp = {
                x: history.map(x => x.year),
                y: history.map(x => x.importance),
                name: 'Importancia Estratégica',
                type: 'scatter',
                mode: 'lines',
                line: { color: '#3b82f6', width: 2, dash: 'dot' }
            };

            const layout = {
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                margin: { t: 30, b: 40, l: 50, r: 10 },
                legend: { orientation: 'h', y: 1.1, font: { color: '#8892a4', size: 10 } },
                xaxis: { gridcolor: 'rgba(255,255,255,0.05)', tickfont: { color: '#8892a4' }, zeroline: false },
                yaxis: { gridcolor: 'rgba(255,255,255,0.05)', tickfont: { color: '#8892a4' }, zeroline: false },
                hovermode: 'x unified',
                font: { family: 'Inter' }
            };

            Plotly.newPlot('profileTrendChart', [traceVul, traceImp], layout, { responsive: true, displayModeBar: false });
        }


        // === ROTATING GLOBE ===
        function initGlobe() {
            const p = CURRENT_DATA.profiles;
            const gData = [{
                type: 'choropleth', locationmode: 'ISO-3',
                locations: p.map(x => x.country),
                z: p.map(x => x.vulnerability),
                text: p.map(x => getName(x.country) + '<br>Vulnerabilidad: ' + x.vulnerability.toFixed(3) + '<br><i>0 = bajo riesgo · 1 = alto riesgo</i>'),
                hoverinfo: 'text',
                colorscale: [[0, '#1a1f2e'], [0.3, '#3d1515'], [0.6, '#8b2525'], [1, '#ff4040']],
                showscale: false,
                marker: { line: { color: '#0a0e17', width: 0.3 } }
            }];
            let rot = { lon: -20, lat: 15 };
            const layout = {
                geo: {
                    projection: { type: 'orthographic', rotation: rot },
                    bgcolor: 'rgba(0,0,0,0)', showframe: false,
                    showcoastlines: true, coastlinecolor: '#2a3040',
                    showland: true, landcolor: '#1a2332',
                    showocean: true, oceancolor: '#0d1117',
                    showlakes: false, showcountries: true, countrycolor: '#1e2838',
                    lonaxis: { showgrid: false }, lataxis: { showgrid: false }
                },
                paper_bgcolor: 'rgba(0,0,0,0)', plot_bgcolor: 'rgba(0,0,0,0)',
                margin: { t: 0, b: 0, l: 0, r: 0 }, font: { family: 'Inter' }
            };
            Plotly.newPlot('heroGlobe', gData, layout, { responsive: true, displayModeBar: false, scrollZoom: false });

            let anim = true;
            function spin() { if (!anim) return; rot.lon += 0.3; Plotly.relayout('heroGlobe', { 'geo.projection.rotation.lon': rot.lon }); requestAnimationFrame(spin); }
            spin();
            const el = document.getElementById('heroGlobe');
            el.addEventListener('mouseenter', () => { anim = false; });
            el.addEventListener('mouseleave', () => { anim = true; spin(); });
            el.on('plotly_click', d => { if (d.points[0]) showProfile(d.points[0].location); });
        }

        // === WORLD MAP ===
        function initMap() {
            const p = CURRENT_DATA.profiles;
            Plotly.newPlot('worldMap', [{
                type: 'choropleth', locationmode: 'ISO-3',
                locations: p.map(x => x.country), z: p.map(x => x.vulnerability),
                text: p.map(x => getName(x.country) + '<br>Vulnerabilidad: ' + x.vulnerability.toFixed(3) + ' <i>(0 = bajo · 1 = alto)</i>' + '<br>Ranking: #' + x.global_rank + ' de 236'),
                hoverinfo: 'text',
                colorscale: [[0, '#1a1f2e'], [0.2, '#2d1a1a'], [0.4, '#5c2020'], [0.6, '#8b2525'], [0.8, '#bb2521'], [1, '#ff4040']],
                showscale: true,
                colorbar: { title: { text: 'Vulnerabilidad', font: { color: '#8892a4', size: 11 } }, tickfont: { color: '#8892a4', size: 10 }, thickness: 12, len: 0.5, bgcolor: 'rgba(0,0,0,0)', borderwidth: 0, x: 1.02 },
                marker: { line: { color: '#1a2332', width: 0.5 } }
            }], {
                geo: { bgcolor: 'rgba(0,0,0,0)', showframe: false, showcoastlines: true, coastlinecolor: '#2a3040', showland: true, landcolor: '#1a2332', showocean: true, oceancolor: '#0d1117', showlakes: false, showcountries: true, countrycolor: '#2a3040', projection: { type: 'natural earth' } },
                paper_bgcolor: 'rgba(0,0,0,0)', plot_bgcolor: 'rgba(0,0,0,0)', margin: { t: 10, b: 10, l: 10, r: 40 }, font: { family: 'Inter' }
            }, { responsive: true, displayModeBar: false, scrollZoom: false });
            document.getElementById('worldMap').on('plotly_click', d => { if (d.points[0]) showProfile(d.points[0].location); });
        }

        // === HUBS ===
        function initHubsChart() {
            const h = CURRENT_DATA.hubs;
            const trace = {
                x: h.map(x => x.frequency_total),
                y: h.map(x => x.strength_total),
                text: h.map(x => getName(x.country)),
                // Solo mostrar texto si el score es alto para no saturar
                mode: 'markers+text',
                textposition: 'top center',
                textfont: { family: 'Inter', size: 10, color: '#8892a4' },
                marker: {
                    size: h.map(x => Math.sqrt(x.global_score) * 40 + 5),
                    color: h.map(x => x.global_score),
                    colorscale: [[0, '#3b82f6'], [0.5, '#6366f1'], [1, '#bb2521']],
                    opacity: 0.7,
                    line: { color: 'rgba(255,255,255,0.1)', width: 1 }
                },
                hoverinfo: 'text',
                customdata: h.map(x => [
                    getName(x.country),
                    (x.global_score * 100).toFixed(1),
                    x.frequency_total.toLocaleString(),
                    x.strength_total.toFixed(4)
                ]),
                hovertemplate: `<b>%{customdata[0]}</b><br>Score: %{customdata[1]}%<br>Rutas: %{customdata[2]}<br>Fuerza: %{customdata[3]}<extra></extra>`
            };

            // Filtrar texto para solo mostrar top 15
            trace.text = h.map((x, i) => i < 15 ? getName(x.country) : '');

            const layout = {
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                margin: { t: 20, b: 60, l: 80, r: 20 },
                xaxis: {
                    title: { text: 'Frecuencia (Nº de rutas intermediadas)', font: { color: '#8892a4', size: 12 }, standout: 15 },
                    gridcolor: 'rgba(255,255,255,0.05)',
                    tickfont: { color: '#5a6478', size: 10 },
                    zeroline: false
                },
                yaxis: {
                    title: { text: 'Fuerza (Peso del flujo canalizado)', font: { color: '#8892a4', size: 12 }, standout: 15 },
                    gridcolor: 'rgba(255,255,255,0.05)',
                    tickfont: { color: '#5a6478', size: 10 },
                    zeroline: false
                },
                hovermode: 'closest',
                font: { family: 'Inter' }
            };

            Plotly.newPlot('hubsChart', [trace], layout, { responsive: true, displayModeBar: false });

            document.getElementById('hubsChart').on('plotly_click', d => {
                if (d.points[0]) {
                    const country = h[d.points[0].pointIndex].country;
                    showProfile(country);
                }
            });
        }

        function initHubs() {
            const h = CURRENT_DATA.hubs, max = h[0].global_score;
            const half = Math.ceil(h.length / 2);
            function render(list, el) {
                el.innerHTML = list.map(x => `
            <li class="hub-item" onclick="showProfile('${x.country}')">
                <div class="hub-rank ${x.global_rank <= 3 ? 'top3' : 'rest'}">${x.global_rank}</div>
                <span class="hub-flag">${getFlag(x.country)}</span>
                <div style="min-width:120px"><div class="hub-country">${getName(x.country)}</div>
                <div style="font-size:0.7rem;color:var(--text-muted)">${x.frequency_total.toLocaleString()} rutas</div></div>
                <div class="hub-bar-container"><div class="hub-bar" style="width:${(x.global_score / max * 100).toFixed(1)}%"></div></div>
                <span class="hub-score" title="Score de intermediación global (0-100). Mide cuántas cadenas de suministro pasan por este país.">${(x.global_score * 100).toFixed(1)}</span>
            </li>`).join('');
            }
            render(h.slice(0, half), document.getElementById('hubsLeft'));
            render(h.slice(half), document.getElementById('hubsRight'));
        }

        // === INDUSTRY EXPLORER ===
        function initIndustryExplorer() {
            const industries = FULL_DATA.industries.sort((a, b) => a.industry_descr.localeCompare(b.industry_descr));
            document.getElementById('industryList').innerHTML = industries.map(i => `<option value="${i.industry_descr}">`).join('');

            const countries = Object.keys(COUNTRY_NAMES).sort((a, b) => getName(a).localeCompare(getName(b)));
            document.getElementById('importerSelect').innerHTML = countries.map(c => `<option value="${c}" ${c === 'ESP' ? 'selected' : ''}>${getName(c)}</option>`).join('');
        }

        function runIndustryQuery() {
            const industryName = document.getElementById('industrySearch').value.trim().toLowerCase();
            const importer = document.getElementById('importerSelect').value;
            const resArea = document.getElementById('industryResults');
            const chartCont = document.getElementById('industryChartContainer');

            // Búsqueda más robusta: insensible a mayúsculas/minúsculas y espacios
            const industryObj = FULL_DATA.industries.find(i => i.industry_descr.trim().toLowerCase() === industryName);

            if (!industryObj) {
                resArea.innerHTML = '<div class="placeholder-msg" style="color:var(--elcano-red-light)">Por favor, selecciona una industria válida de la lista.</div>';
                chartCont.style.display = 'none';
                return;
            }

            const lookupKey = industryObj.industry_descr;
            const results = (CURRENT_DATA.explorer_indexed[importer] || {})[lookupKey] || [];

            if (!results.length) {
                resArea.innerHTML = `<div class="placeholder-msg">No se han encontrado dependencias significativas para ${getName(importer)} en esta industria.</div>`;
                chartCont.style.display = 'none';
                return;
            }

            // Render Chart
            chartCont.style.display = 'block';
            renderIndustryRadar(results, industryName, importer);

            resArea.innerHTML = `
                <div class="explorer-results-grid">
                    ${results.map(r => `
                    <div class="explorer-card" onclick="showProfile('${r.exporter}')" style="cursor:pointer">
                        <div class="explorer-card-header">
                            <span class="explorer-card-flag">${getFlag(r.exporter)}</span>
                            <div class="explorer-card-name">${getName(r.exporter)}</div>
                        </div>
                        <div class="explorer-card-dep">
                            <span>Dependencia Total</span>
                            <span style="font-weight:700;color:var(--elcano-red-light)">${(r.dep_total * 100).toFixed(2)}%</span>
                        </div>
                        <div class="hub-bar-container" style="height:6px;margin-bottom:1rem">
                            <div class="hub-bar" style="width:${Math.min(r.dep_total * 100, 100)}%"></div>
                        </div>
                        <div style="font-size:0.75rem;color:var(--text-muted);display:flex;justify-content:space-between">
                            <span>Directa: ${(r.dep_direct * 100).toFixed(1)}%</span>
                            <span>Indirecta: ${(r.dep_indirect * 100).toFixed(1)}%</span>
                        </div>
                        ${r.top_intermediary ? `
                        <div class="explorer-path">
                            <span class="explorer-path-title">Ruta más relevante</span>
                            <div class="path-route">
                                <span>${getFlag(r.exporter)}</span>
                                <span style="font-size:0.7rem">→</span>
                                <span style="font-size:0.75rem;background:rgba(255,255,255,0.1);padding:2px 6px;border-radius:4px">${r.top_intermediary}</span>
                                <span style="font-size:0.7rem">→</span>
                                <span>${getFlag(r.importer)}</span>
                            </div>
                            <div style="margin-top:0.4rem;font-size:0.65rem;color:var(--text-muted);text-align:right">Fuerza: ${r.path_strength.toFixed(4)}</div>
                        </div>
                        ` : ''}
                    </div>
                    `).join('')}
                </div>
            `;
        }

        function renderIndustryRadar(data, industryName, importer) {
            const trace = {
                x: data.map(d => d.dep_direct * 100),
                y: data.map(d => d.dep_indirect * 100),
                mode: 'markers+text',
                text: data.map(d => d.exporter),
                textposition: 'top center',
                marker: {
                    size: 10,
                    color: '#ff4b4b',
                    line: { color: 'white', width: 1 }
                },
                hovertemplate: `<b>%{text}</b><br>Directa: %{x:.2f}%<br>Indirecta (Riesgo Oculto): %{y:.2f}%<extra></extra>`
            };

            const layout = {
                paper_bgcolor: 'rgba(0,0,0,0)',
                plot_bgcolor: 'rgba(0,0,0,0)',
                margin: { t: 10, b: 40, l: 50, r: 20 },
                xaxis: {
                    title: { text: 'Dep. Directa (%)', font: { color: '#8892a4', size: 10 } },
                    gridcolor: 'rgba(255,255,255,0.05)',
                    tickfont: { color: '#5a6478', size: 9 },
                    range: [-2, Math.max(...data.map(d => d.dep_direct * 100)) + 10]
                },
                yaxis: {
                    title: { text: 'Riesgo Oculto / Indirecto (%)', font: { color: '#8892a4', size: 10 } },
                    gridcolor: 'rgba(255,255,255,0.05)',
                    tickfont: { color: '#5a6478', size: 9 },
                    range: [-2, Math.max(...data.map(d => d.dep_indirect * 100)) + 10]
                },
                font: { family: 'Inter' }
            };

            Plotly.newPlot('industryRadarPlot', [trace], layout, { responsive: true, displayModeBar: false });
        }


        // === SEARCH ===
        function initSearch() {
            const input = document.getElementById('countrySearch'), res = document.getElementById('searchResults');
            input.addEventListener('input', function () {
                const q = this.value.toLowerCase().trim();
                if (q.length < 1) { res.classList.remove('active'); return; }
                const m = CURRENT_DATA.profiles.filter(p => getName(p.country).toLowerCase().includes(q) || p.country.toLowerCase().includes(q)).slice(0, 8);
                if (!m.length) { res.classList.remove('active'); return; }
                res.innerHTML = m.map(p => `<div class="search-result-item" onclick="showProfile('${p.country}')"><span class="flag">${getFlag(p.country)}</span><span>${getName(p.country)}</span><span class="rank">#${p.global_rank}</span></div>`).join('');
                res.classList.add('active');
            });
            input.addEventListener('blur', () => setTimeout(() => res.classList.remove('active'), 200));
        }

        // === PROFILE ===
        function showProfile(iso3) {
            const profile = CURRENT_DATA.profiles.find(p => p.country === iso3);
            if (!profile) return;
            const deps = CURRENT_DATA.dependencies.filter(d => d.dependent_country === iso3).sort((a, b) => b.dependency_value - a.dependency_value);
            const bilat = CURRENT_DATA.bilateral.filter(b => b.importer === iso3).sort((a, b) => b.criticidad - a.criticidad);
            const hub = CURRENT_DATA.hubs.find(h => h.country === iso3);

            const c = document.getElementById('profileContent');
            c.innerHTML = `
        <div class="profile-header">
            <span class="profile-flag">${getFlag(iso3)}</span>
            <div><div class="profile-name">${getName(iso3)}</div><div style="color:var(--text-secondary);font-size:0.9rem">${iso3} · Datos ${CURRENT_YEAR}</div></div>
            <div class="profile-rank-badge"><span class="rank-number">#${profile.global_rank}</span><span class="rank-label">Ranking global</span></div>
        </div>
        <div class="profile-kpis">
            <div class="profile-kpi">
                <div class="value" style="color:var(--elcano-red-light)">${profile.vulnerability.toFixed(3)}</div>
                <div class="label">Vulnerabilidad</div>
                <div class="kpi-desc">Índice 0-1. Cuanto más alto, mayor exposición a disrupciones en cadenas de suministro.</div>
            </div>
            <div class="profile-kpi">
                <div class="value">${(profile.indirect_share * 100).toFixed(1)}%</div>
                <div class="label">Dependencia indirecta</div>
                <div class="kpi-desc">Porcentaje de importaciones que pasan por intermediarios, sin acceso directo al productor original.</div>
            </div>
            <div class="profile-kpi">
                <div class="value">${profile.num_suppliers_effective.toFixed(1)}</div>
                <div class="label">Proveedores efectivos</div>
                <div class="kpi-desc">Número medio de proveedores reales por industria. Menos proveedores = mayor concentración y riesgo.</div>
            </div>
        </div>
        <div class="profile-evolution">
            <h3 style="margin:2rem 0 0.5rem 0;font-size:1.1rem">Tendencia Histórica (2001-2022)</h3>
            <p style="font-size:0.8rem;color:var(--text-secondary);margin-bottom:1rem">Evolución del índice de vulnerabilidad e importancia estratégica.</p>
            <div id="profileTrendChart" class="evolution-chart-container"></div>
        </div>
        ${hub ? `<div style="background:var(--bg-card);border-radius:16px;padding:1.5rem;border:1px solid var(--border-subtle);margin-bottom:2rem;margin-top:2rem">
            <div class="section-label" style="margin-bottom:0.5rem">Intermediación Global (Hub)</div>
            <div style="font-size:0.75rem;color:var(--text-muted);margin-bottom:1rem;line-height:1.4">Posición en el ranking de hubs comerciales. Mide el peso del país como intermediario en rutas mundiales.</div>
            <div style="display:flex;gap:2rem;align-items:center;flex-wrap:wrap">
                <div><span style="font-size:1.8rem;font-weight:700">#${hub.global_rank}</span> <span style="color:var(--text-muted);font-size:0.8rem">de 236</span></div>
                <div><span style="font-size:1.2rem;font-weight:600">${hub.frequency_total.toLocaleString()}</span> <span style="color:var(--text-muted);font-size:0.8rem">rutas</span></div>
                <div><span style="font-size:1.2rem;font-weight:600">${(hub.global_score * 100).toFixed(1)}</span> <span style="color:var(--text-muted);font-size:0.8rem">score</span></div>
            </div></div>` : ''}
        <div class="section-label" style="margin-bottom:1rem;margin-top:2rem">Principales dependencias por industria</div>
        <div id="profileTreemap" style="height:400px;background:var(--bg-card);border-radius:16px;border:1px solid var(--border-subtle);padding:1rem;margin-bottom:2rem"></div>
        ${bilat.length ? `<div class="section-label" style="margin-bottom:1rem;margin-top:2rem">Proveedores más críticos</div>
        <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1rem">
            ${bilat.slice(0, 12).map(b => {
                const critPct = (b.criticidad * 100).toFixed(0);
                const critColor = critPct >= 80 ? 'var(--elcano-red-light)' : critPct >= 50 ? '#FFC107' : 'var(--text-secondary)';
                const critLabel = critPct >= 80 ? 'Muy alta' : critPct >= 50 ? 'Alta' : 'Moderada';
                return `<div style="background:var(--bg-card);border-radius:12px;padding:1rem;border:1px solid var(--border-subtle);display:flex;align-items:center;gap:10px">
                <span style="font-size:1.5rem">${getFlag(b.exporter)}</span><div><div style="font-weight:600;font-size:0.9rem">${getName(b.exporter)}</div><div style="font-size:0.72rem;color:${critColor}">${critLabel} (${critPct}%)</div><div style="font-size:0.65rem;color:var(--text-muted)">Sin este proveedor, ¿cuántas industrias se verían afectadas?</div></div>
            </div>`}).join('')}
        </div>` : ''}`;

            if (deps.length) {
                Plotly.newPlot('profileTreemap', [{
                    type: 'treemap',
                    labels: deps.map(d => d.industry.length > 30 ? d.industry.substring(0, 30) + '...' : d.industry),
                    parents: deps.map(() => ''), values: deps.map(d => d.dependency_value),
                    text: deps.map(d => d.industry + '<br>Dep: ' + (d.dependency_value * 100).toFixed(2) + '%'), hoverinfo: 'text',
                    textinfo: 'label+percent parent',
                    marker: { colors: deps.map(d => d.dependency_value), colorscale: [[0, '#2d1a1a'], [0.5, '#8b2525'], [1, '#ff4040']], line: { width: 1, color: '#1a2332' } },
                    textfont: { family: 'Inter', size: 11, color: '#f0f2f5' }
                }], { paper_bgcolor: 'rgba(0,0,0,0)', plot_bgcolor: 'rgba(0,0,0,0)', margin: { t: 10, b: 10, l: 10, r: 10 }, font: { family: 'Inter' } },
                    { responsive: true, displayModeBar: false });
            }

            initProfileTrend(iso3);

            document.getElementById('profile-section').classList.add('active');
            document.getElementById('profile-section').scrollIntoView({ behavior: 'smooth' });
            document.getElementById('countrySearch').value = '';
            document.getElementById('searchResults').classList.remove('active');
        }

        function closeProfile() {
            document.getElementById('profile-section').classList.remove('active');
            document.getElementById('overview').scrollIntoView({ behavior: 'smooth' });
        }

        // === NAV ===
        window.addEventListener('scroll', () => {
            document.getElementById('navbar').classList.toggle('scrolled', window.scrollY > 50);
            const sects = ['hero', 'overview', 'map-section', 'hubs-section', 'critical-section'];
            let cur = '';
            sects.forEach(id => { const el = document.getElementById(id); if (el && window.scrollY >= el.offsetTop - 200) cur = id; });
            document.querySelectorAll('.nav-links a').forEach(a => { a.classList.toggle('active', a.getAttribute('href') === '#' + cur); });
        });
        document.querySelectorAll('.nav-links a').forEach(a => {
            a.addEventListener('click', function (e) { e.preventDefault(); document.querySelector(this.getAttribute('href'))?.scrollIntoView({ behavior: 'smooth' }); });
        });
    </script>
</body>

</html>